module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},19221,a=>{"use strict";let b=(0,a.i(70106).default)("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);a.s(["Swords",()=>b],19221)},39646,a=>{"use strict";let b=(0,a.i(70106).default)("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);a.s(["Gamepad2",()=>b],39646)},90669,a=>{"use strict";let b=(0,a.i(70106).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],90669)},40695,a=>{"use strict";let b,c,d;var e=a.i(87924),f=a.i(72131);function g(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}var h=((d=f.forwardRef((a,b)=>{let{children:c,...d}=a;if(f.isValidElement(c)){var e;let a,h,i=(e=c,(h=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(h=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==f.Fragment&&(j.ref=b?function(...a){return b=>{let c=!1,d=a.map(a=>{let d=g(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():g(a[b],null)}}}}(b,i):i),f.cloneElement(c,j)}return f.Children.count(c)>1?f.Children.only(null):null})).displayName="Slot.SlotClone",b=d,(c=f.forwardRef((a,c)=>{let{children:d,...g}=a,h=f.Children.toArray(d),i=h.find(j);if(i){let a=i.props.children,d=h.map(b=>b!==i?b:f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null);return(0,e.jsx)(b,{...g,ref:c,children:f.isValidElement(a)?f.cloneElement(a,void 0,d):null})}return(0,e.jsx)(b,{...g,ref:c,children:d})})).displayName="Slot.Slot",c),i=Symbol("radix.slottable");function j(a){return f.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===i}var k=a.i(187),l=a.i(97895);let m=(0,k.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=f.forwardRef(({className:a,variant:b,size:c,asChild:d=!1,...f},g)=>(0,e.jsx)(d?h:"button",{className:(0,l.cn)(m({variant:b,size:c,className:a})),ref:g,...f}));n.displayName="Button",a.s(["Button",()=>n],40695)},83077,a=>{"use strict";let b=(0,a.i(70106).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],83077)},20731,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(3130),f=a.i(54161),g=a.i(40695),h=a.i(19221),i=a.i(39646),j=a.i(90669),k=a.i(41710),l=a.i(83077);let m=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var n=a.i(96221),o=a.i(97895),p=a.i(7998);function q(){let[a,q]=(0,d.useState)([]),[r,s]=(0,d.useState)([]),[t,u]=(0,d.useState)(!0);(0,d.useEffect)(()=>{!async function(){try{let[a,b]=await Promise.all([fetch("/api/battles"),fetch("/api/register")]),c=await a.json(),d=await b.json();c.success&&q(c.battles),d.success&&s(d.devices)}catch(a){console.error("Failed to fetch data:",a)}finally{u(!1)}}()},[]);let v=a.filter(a=>"active"===a.status).length,w=a.filter(a=>"pending"===a.status).length,x=a.filter(a=>"completed"===a.status).length;return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(p.default,{}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Monitor your Bird Wars battles and devices"})]}),t?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-muted-foreground","data-testid":"loading-spinner"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Active Battles"}),(0,b.jsx)(j.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold","data-testid":"stat-active-battles",children:v}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Pending Battles"}),(0,b.jsx)(k.Clock,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold","data-testid":"stat-pending-battles",children:w}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Waiting for opponent"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Completed"}),(0,b.jsx)(l.Trophy,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold","data-testid":"stat-completed-battles",children:x}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Finished battles"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Devices"}),(0,b.jsx)(i.Gamepad2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold","data-testid":"stat-devices",children:r.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered Playdates"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Recent Battles"}),(0,b.jsx)(e.CardDescription,{children:"Latest battle activity"})]}),(0,b.jsx)(c.default,{href:"/battles",children:(0,b.jsxs)(g.Button,{variant:"outline",size:"sm","data-testid":"button-view-all-battles",children:["View All",(0,b.jsx)(m,{className:"w-4 h-4 ml-1"})]})})]})}),(0,b.jsx)(e.CardContent,{children:0===a.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(h.Swords,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No battles yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Start a battle from your Playdate!"})]}):(0,b.jsx)("div",{className:"space-y-4",children:a.slice(0,5).map(a=>(0,b.jsxs)(c.default,{href:`/battles/${a.battleId}`,className:"flex items-center justify-between p-3 rounded-lg border border-border hover:bg-secondary/50 transition-colors","data-testid":`battle-row-${a.battleId}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)(h.Swords,{className:"w-5 h-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-sm",children:["Battle #",a.battleId.substring(0,8)]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Turn ",a.currentTurn," â€¢ ",(0,o.formatRelativeTime)(a.updatedAt)]})]})]}),(a=>{switch(a){case"active":return(0,b.jsx)(f.Badge,{variant:"success","data-testid":"badge-status-active",children:"Active"});case"pending":return(0,b.jsx)(f.Badge,{variant:"warning","data-testid":"badge-status-pending",children:"Waiting"});case"completed":return(0,b.jsx)(f.Badge,{variant:"secondary","data-testid":"badge-status-completed",children:"Completed"});default:return(0,b.jsx)(f.Badge,{variant:"outline","data-testid":"badge-status-other",children:a})}})(a.status)]},a.battleId))})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Registered Devices"}),(0,b.jsx)(e.CardDescription,{children:"Connected Playdate devices"})]}),(0,b.jsx)(c.default,{href:"/devices",children:(0,b.jsxs)(g.Button,{variant:"outline",size:"sm","data-testid":"button-view-all-devices",children:["Manage",(0,b.jsx)(m,{className:"w-4 h-4 ml-1"})]})})]})}),(0,b.jsx)(e.CardContent,{children:0===r.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(i.Gamepad2,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No devices registered"}),(0,b.jsx)("p",{className:"text-sm",children:"Register a device via the API"})]}):(0,b.jsx)("div",{className:"space-y-4",children:r.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border","data-testid":`device-row-${a.deviceId}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)(i.Gamepad2,{className:"w-5 h-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.displayName}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last seen ",(0,o.formatRelativeTime)(a.lastSeen)]})]})]}),(0,b.jsx)(f.Badge,{variant:"outline",children:"Active"})]},a.deviceId))})})]})]})]})]})]})}a.s(["default",()=>q],20731)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d9afa5d0._.js.map